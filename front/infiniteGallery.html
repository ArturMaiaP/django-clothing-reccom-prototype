<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <link rel="stylesheet" href="/static/css/bootstrap.min.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css"
      integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="/static/css/styles.css" />
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.bundle.min.js"></script>
    <script src="/static/js/config.js"></script>
    <script src="/static/js/likedislike.js"></script>
    <script src="/static/js/chat.js"></script>
    <link
      href="https://fonts.googleapis.com/css?family=Merriweather+Sans:400,700"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic"
      rel="stylesheet"
      type="text/css"
    />
    <!-- Third party plugin CSS-->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/magnific-popup.min.css"
      rel="stylesheet"
    />

    <title>Images Gallery</title>
    <script>
      var user = localStorage.getItem("User");
      var chatId = sessionStorage.getItem("Chat");
      if (!user) {
        window.location.replace("/login.html");
      } else {
        user = JSON.parse(user);
      }

      if (!chatId) {
        chatInit();
      }
    </script>
  </head>
  <body>
    <header class="jumbotron font-weight-bold">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-12 text-center text-white">
            <h1>
              Let us know your opinion. Is there any skirt below that you like?
            </h1>
          </div>
        </div>
      </div>
    </header>

    <div class="container">
      <!--
        <div class="row row-header justify-content-center ">
            <h4> Let us know your opinion. Is there any skirt below that you like?
            </h4>
        </div>
        -->
        <div class="row">
          <div class="col-8">
            <div class="row row-content" id="infiniteDiv"></div>
          </div>
          <div class="col-4 p-5">
              <div id="chat-card" class="card text-bg-light border">
                <div class="card-header">
                  <h2 class="m-0">Chat</h2>
                </div>
                <div id="chat-target" class="card-body"  style="height: 50vh"></div>
                <div class="card-footer">
                  <form onsubmit="chat(event);">
                    <div class="input-group">
                      <input id="message" type="text" class="form-control" />
                      <button class="btn btn-primary" type="submit">
                        <span class="fas fa-plane"></span>
                      </button>
                    </div>
                  </form>
                </div>
              </div>
            </div>
        </div>
    </div>

    

    <script>
      $(window).scroll(function () {
        if (
          Math.abs(
            $(window).scrollTop() - ($(document).height() - $(window).height())
          ) < 1
        ) {
          getRecommendation("#infiniteDiv");
        }
      });
      $(window).ready(function () {
        getRecommendation("#infiniteDiv");
        setTimeout(() => {
          insertChat(false, "Hello, how can I help you?");
        },2000);
        
      });
    </script>
  </body>
</html>
